<div class="font-bold text-3xl text-center p-4 uppercase mt-4 text-black" style=margin:20px>
  <h1>AÃ±adir Nuevo Pedido</h1>
</div>
<!--
    <div class="flex flex-col gap-8 md:grid md:grid-rows-8 md:grid-cols-2 md:mt-4 p-4 md:gap-x-4 md:gap-y-6">
-->

<div class="w-full bg-white rounded-xl p-6 h-full z-20">
  <form [formGroup]="pedido" (ngSubmit)="onSubmit()">
    <div class="flex flex-col gap-8 md:grid md:grid-cols-12 md:mt-4 p-6 md:gap-x-4 md:gap-y-6">

<!--     <div class="input-group md:col-span-1 sm:col-span-1">
      </div>
-->
      <div class="md:col-span-3 sm:col-span-2">
        <p-dropdown [options]="productos" placeholder="Seleccione un Producto" optionLabel="nombre" autoWidth="false" [style]="{'width':'100%'}" #prod></p-dropdown>
      </div>
      <div class="input-group md:col-span-2 sm:col-span-4 md:absolute top-1">
        <input required="true" type="number" id="cantidadproducto" class="input" #cantidad>
        <label class="user-label" for="cantidadproducto">Cantidad</label>
      </div>
      <div class="input-group md:col-span-1 sm:col-span-4">
        <button type="button" (click)="updatePedidoProducto(prod.value, cantidad.valueAsNumber)"
          class="w-16 h-16 bg-sky-400 md:-left-10 md:-top-2 sm:-left-2 md:absolute rounded-full hover:bg-sky-800 active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none">
          <svg viewBox="0 0 20 20" enable-background="new 0 0 20 20" class="w-6 h-6 inline-block">
            <path fill="#FFFFFF" d="M16,10c0,0.553-0.048,1-0.601,1H11v4.399C11,15.951,10.553,16,10,16c-0.553,0-1-0.049-1-0.601V11H4.601
                                      C4.049,11,4,10.553,4,10c0-0.553,0.049-1,0.601-1H9V4.601C9,4.048,9.447,4,10,4c0.553,0,1,0.048,1,0.601V9h4.399
                                      C15.952,9,16,9.447,16,10z" />
          </svg>
        </button>
      </div>
<!--
      <button type="button" (click)="updatePedidoProducto(prod.value, cantidad.valueAsNumber)" class="px-6 py-4 bg-blue-700 text-white font-bold rounded-xl">+</button>
      class="w-16 h-16 -left-8 bg-sky-400 rounded-full hover:bg-sky-800 active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none sm:absolute sm:bottom-0 z-50">
-->
      <div class="md:col-span-3 sm:col-span-2">
        <p-dropdown [options]="combos" placeholder="Seleccione un Combo" optionLabel="nombre" autoWidth="false" [style]="{'width':'100%'}"  #combo></p-dropdown>
      </div>
      <div class="input-group md:col-span-2 sm:col-span-1 md:absolute top-1">
          <input required="true" type="number" id="cantidadcmb" class="input" #cantidadcombo>
          <label class="user-label" for="cantidadcmb">Cantidad</label>
      </div>
      <div class="input-group md:col-span-1 sm:col-span-4">
        <button type="button" (click)="updatePedidoCombo(combo.value, cantidadcombo.valueAsNumber)"
                class="w-16 h-16 bg-sky-400 md:-left-10 md:-top-2 sm:-left-2 md:absolute rounded-full hover:bg-sky-800 active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none">
          <svg viewBox="0 0 20 20" enable-background="new 0 0 20 20" class="w-6 h-6 inline-block">
            <path fill="#FFFFFF" d="M16,10c0,0.553-0.048,1-0.601,1H11v4.399C11,15.951,10.553,16,10,16c-0.553,0-1-0.049-1-0.601V11H4.601
                                      C4.049,11,4,10.553,4,10c0-0.553,0.049-1,0.601-1H9V4.601C9,4.048,9.447,4,10,4c0.553,0,1,0.048,1,0.601V9h4.399
                                      C15.952,9,16,9.447,16,10z" />
          </svg>
        </button>
      </div>
    </div>
<!--      <div class="input-group md:col-span-1 sm:col-span-1">
      </div>
-->
<!--
      <button type="button" (click)="updatePedidoCombo(combo.value,cantidadcombo.valueAsNumber)" class="px-6 py-4 bg-blue-700 text-white font-bold rounded-xl">+</button>
-->
    <p-table [value]="listaprod" dataKey="id" responsiveLayout="scroll">

      <!-- Main table -->
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="nombre">Producto<p-sortIcon field="id"></p-sortIcon></th>
          <th pSortableColumn="cantidad">Cantidad</th>
          <th pSortableColumn="preciouni">Precio Unit.</th>
          <th pSortableColumn="preciotot">Precio Total</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="caption">
        TOTAL:  {{valortotal | currency: '$' : 'symbol' : '1.0-0'}}
      </ng-template>
      <ng-template pTemplate="body" let-prod>
        <tr style="background-color: lightyellow">
          <td>{{prod.nombre}}</td>
          <td>{{prod.cantidad}}</td>
          <td>{{prod.precio | currency: '$' : 'symbol':'1.0-0'}}</td>
          <td>{{prod.precio * prod.cantidad  | currency: '$' : 'symbol' : '1.0-0'}}</td>
        </tr>
      </ng-template>
    </p-table>

    <div class="flex justify-center mt-4">
      <button type="submit" class="px-6 py-4 bg-blue-700 text-white font-bold rounded-xl">Crear Pedido</button>
    </div>

  </form>
</div>






<ng-container>
  <p-toast>

  </p-toast>
</ng-container>
      <!--
        <p-dropdown [options]="productos" formControlName="Productos" placeholder="Seleccione un Producto" optionLabel="nombre"></p-dropdown>
      <div class="w-full bg-white rounded-xl p-6 h-full z-20">
      <div class="flex justify-center font-bold text-xl">
        <h1 class="mb-3 text-center">Nuevo Pedido</h1>
        <form [formGroup]="pedido" (ngSubmit)="onSubmit()">
          <div class="d-grid">
            <select
              class="custom-select mb-3"
              (change)="changeProducto($event)"
              formControlName="productoNombre"
            >
              <option value="">Seleccione Producto</option>
              <option *ngFor="let nombre of productos" [ngValue]="nombre">
                {{ nombre }}
              </option>
            </select>
             error block -->
<!--    <div class="invalid-feedback" *ngIf="isSubmitted && productoNombre?.invalid">
          <sup>*</sup>Please provide city name
        </div>
        <button type="submit" class="px-6 py-4 bg-blue-700 text-white font-bold rounded-xl">Crear Pedido</button>
      </div>
    </form>
  </div>
</div>
-->


<!--
div class="w-full bg-white rounded-xl p-6 h-full z-20">
  <div class="flex justify-center font-bold text-xl">
    <h1>Nuevo Pedido</h1>
  </div>
</div>
<form [formGroup]="pedido" (ngSubmit)="addProducto()">
  <p-dropdown [options]="productos" formControlName="selectedProduct" placeholder="Seleccione un Producto" optionLabel="nombre" optionValue="id"></p-dropdown>

  <div class="flex justify-center mt-4">
    <button type="submit" class="px-6 py-4 bg-blue-700 text-white font-bold rounded-xl">Crear Combo</button>
  </div>
</form
-->

<!--  <form [formGroup]="pedido" (ngSubmit)="addPedido()">

  <p-dropdown [options]="productos" [(ngModel)]="selectedProduct" placeholder="Seleccione un Producto" optionLabel="nombre" optionValue="id"></p-dropdown>


    <div class="flex flex-col gap-8 md:grid md:grid-rows-8 md:grid-cols-2 md:mt-4 p-4 md:gap-x-4 md:gap-y-6">
      <div class="input-group">
        <input required="true" type="text" id="nombre" class="input" formControlName="nombre">
        <label class="user-label" for="nombre">Nombre del Combo</label>
      </div>
      <div class="input-group">
        <input required="true" type="number" id="descuento" class="input" formControlName="descuento">
        <label class="user-label" for="descuento">Descuento a Aplicar [%]</label>
      </div>
    </div>
    <p-pickList [source]="lista1" [target]="lista2"  sourceHeader="Productos Disponibles" targetHeader="Seleccionados" [dragdrop]="true"
                [responsive]="true" [sourceStyle]="{'height':'20rem'}" [targetStyle]="{'height':'20rem'}" filterBy="nombre"
                sourceFilterPlaceholder="Buscar por nombre" targetFilterPlaceholder="Buscar por nombre">
      <ng-template let-producto pTemplate="item">
        <div>
          <div style="font-size:14px;float:left;margin:0px 0px 0 0">{{producto.nombre}}</div>
        </div>
      </ng-template>
    </p-pickList>

    <div class="flex justify-center mt-4">
      <button type="submit" class="px-6 py-4 bg-blue-700 text-white font-bold rounded-xl">Crear Combo</button>
    </div>
  </form>
</div>
-->
